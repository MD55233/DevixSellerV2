"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[170],{6170:function(e,r,t){t.r(r);var a=t(2791),s=t(1889),n=t(890),o=t(3239),c=t(9281),i=t(5527),l=t(9836),d=t(6890),p=t(5855),h=t(3994),u=t(3382),f=t(4554),x=t(2903),j=t(1527),Z=t(184);r.default=()=>{const{username:e}=(0,j.a)(),[r,t]=(0,a.useState)([]),[m,g]=(0,a.useState)(!0),[y,k]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{try{if(!e)return k("No user is logged in."),void g(!1);const r=await x.Z.get(`http://localhost:8001/api/referral-payment/${e}`),a=await x.Z.get(`http://localhost:8001/api/approvals/referral/approve/${e}`),s=await x.Z.get(`http://localhost:8001/api/approvals/referral/reject/${e}`),n=[...r.data.map((e=>({...e,type:"Referral Payment Verification",status:e.status,remarks:"Referral payment verification submitted"}))),...a.data.map((e=>({...e,type:"Approved Referral Payment",status:"approved"}))),...s.data.map((e=>({...e,type:"Rejected Referral Payment",status:"rejected",remarks:e.feedback||"No feedback provided"})))];n.sort(((e,r)=>new Date(r.createdAt)-new Date(e.createdAt))),t(n),g(!1)}catch(y){console.error("Error fetching deposit history:",y),k("Error fetching deposit history. Please try again."),g(!1)}})()}),[e]);const v=e=>{switch(e){case"approved":return{backgroundColor:"#d4edda",color:"#155724"};case"rejected":return{backgroundColor:"#f8d7da",color:"#721c24"};case"pending":return{backgroundColor:"#fff3cd",color:"#856404"};default:return{backgroundColor:"#ffffff",color:"#000000"}}};return(0,Z.jsxs)(s.ZP,{container:!0,spacing:3,justifyContent:"center",children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(n.Z,{variant:"h3",gutterBottom:!0,sx:{color:"secondary.main",textAlign:"center"},children:"Deposit History"})}),(0,Z.jsx)(s.ZP,{item:!0,xs:12,sm:8,children:m?(0,Z.jsx)(o.Z,{}):y?(0,Z.jsx)(n.Z,{color:"error",variant:"h6",children:y}):0===r.length?(0,Z.jsx)(n.Z,{variant:"h6",children:"No transactions found."}):(0,Z.jsx)(c.Z,{component:i.Z,children:(0,Z.jsxs)(l.Z,{children:[(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(h.Z,{children:"Date"}),(0,Z.jsx)(h.Z,{children:"Type"}),(0,Z.jsx)(h.Z,{children:"Amount"}),(0,Z.jsx)(h.Z,{children:"Status"}),(0,Z.jsx)(h.Z,{children:"Remarks"})]})}),(0,Z.jsx)(u.Z,{children:r.map((e=>(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(h.Z,{children:new Date(e.createdAt).toLocaleDateString()}),(0,Z.jsx)(h.Z,{children:e.type}),(0,Z.jsxs)(h.Z,{children:["Rs,",e.transactionAmount]}),(0,Z.jsx)(h.Z,{children:(0,Z.jsx)(f.Z,{sx:{...v(e.status),padding:"4px 8px",borderRadius:"4px",display:"inline-block"},children:e.status})}),(0,Z.jsx)(h.Z,{children:e.remarks||"-"})]},e._id)))})]})})})]})}}}]);
//# sourceMappingURL=170.0fb9aa7e.chunk.js.map