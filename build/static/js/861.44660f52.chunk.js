"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[861],{8861:function(e,r,t){t.r(r);var n=t(2791),a=t(1889),s=t(890),o=t(3239),i=t(9281),c=t(5527),d=t(9836),l=t(6890),h=t(5855),u=t(3994),p=t(3382),x=t(4554),g=t(2903),j=t(1527),Z=t(184);r.default=()=>{const{username:e}=(0,j.a)(),[r,t]=(0,n.useState)([]),[f,m]=(0,n.useState)(!0),[y,b]=(0,n.useState)("");(0,n.useEffect)((()=>{(async()=>{try{const[r,n,a]=await Promise.all([g.Z.get(`http://localhost:8001/api/training-bonus/${e}`),g.Z.get(`http://localhost:8001/api/approvals/approve/${e}`),g.Z.get(`http://localhost:8001/api/approvals/reject/${e}`)]),s=[...r.data.map((e=>({...e,type:"Pending Training Bonus",status:"pending"}))),...n.data.map((e=>({...e,type:"Approved Training Bonus",status:"approved"}))),...a.data.map((e=>({...e,type:"Rejected Training Bonus",status:"rejected",remarks:e.feedback||"No feedback provided"})))];s.sort(((e,r)=>new Date(r.createdAt)-new Date(e.createdAt))),t(s),m(!1)}catch(y){console.error("Error fetching training bonus history:",y),b("Error fetching training bonus history. Please try again."),m(!1)}})()}),[e]);const k=e=>{switch(e){case"approved":return{backgroundColor:"#d4edda",color:"#155724"};case"rejected":return{backgroundColor:"#f8d7da",color:"#721c24"};case"pending":return{backgroundColor:"#fff3cd",color:"#856404"};default:return{backgroundColor:"#ffffff",color:"#000000"}}};return(0,Z.jsxs)(a.ZP,{container:!0,spacing:3,justifyContent:"center",children:[(0,Z.jsx)(a.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.Z,{variant:"h3",gutterBottom:!0,sx:{color:"secondary.main",textAlign:"center"},children:"Training Bonus History"})}),(0,Z.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:f?(0,Z.jsx)(o.Z,{}):y?(0,Z.jsx)(s.Z,{color:"error",variant:"h6",children:y}):0===r.length?(0,Z.jsx)(s.Z,{variant:"h6",children:"No training bonuses found."}):(0,Z.jsx)(i.Z,{component:c.Z,children:(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(u.Z,{children:"Date"}),(0,Z.jsx)(u.Z,{children:"Type"}),(0,Z.jsx)(u.Z,{children:"Amount"}),(0,Z.jsx)(u.Z,{children:"Status"}),(0,Z.jsx)(u.Z,{children:"Remarks"})]})}),(0,Z.jsx)(p.Z,{children:r.map((e=>(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(u.Z,{children:new Date(e.createdAt).toLocaleDateString()}),(0,Z.jsx)(u.Z,{children:e.type}),(0,Z.jsxs)(u.Z,{children:["Rs,",e.transactionAmount||e.amount]}),(0,Z.jsx)(u.Z,{children:(0,Z.jsx)(x.Z,{sx:{...k(e.status),padding:"4px 8px",borderRadius:"4px",display:"inline-block"},children:e.status})}),(0,Z.jsx)(u.Z,{children:e.remarks||"-"})]},e._id)))})]})})})]})}}}]);
//# sourceMappingURL=861.44660f52.chunk.js.map