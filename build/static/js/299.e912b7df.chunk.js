"use strict";(self.webpackChunkfairyglow_seller=self.webpackChunkfairyglow_seller||[]).push([[299],{7299:function(e,r,t){t.r(r);var s=t(2791),a=t(1889),n=t(890),c=t(3239),i=t(9281),o=t(5527),l=t(9836),d=t(6890),h=t(5855),u=t(3994),x=t(3382),j=t(4554),Z=t(2903),f=t(1527),w=t(184);r.default=()=>{const{username:e}=(0,f.a)(),[r,t]=(0,s.useState)([]),[g,p]=(0,s.useState)(!0),[m,y]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{const r=(await Z.Z.get(`http://localhost:8001/api/withdrawals/${e}`)).data.map((e=>({...e,status:e.status||"unknown"})));r.sort(((e,r)=>new Date(r.createdAt)-new Date(e.createdAt))),t(r),p(!1)}catch(m){console.error("Error fetching withdrawal history:",m),y("Error fetching withdrawal history. Please try again."),p(!1)}})()}),[e]);const k=e=>{switch(e){case"approved":return{backgroundColor:"#d4edda",color:"#155724"};case"rejected":return{backgroundColor:"#f8d7da",color:"#721c24"};case"pending":return{backgroundColor:"#fff3cd",color:"#856404"};default:return{backgroundColor:"#ffffff",color:"#000000"}}};return(0,w.jsxs)(a.ZP,{container:!0,spacing:3,justifyContent:"center",children:[(0,w.jsx)(a.ZP,{item:!0,xs:12,children:(0,w.jsx)(n.Z,{variant:"h3",gutterBottom:!0,sx:{color:"secondary.main",textAlign:"center"},children:"Withdrawal History"})}),(0,w.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:g?(0,w.jsx)(c.Z,{}):m?(0,w.jsx)(n.Z,{color:"error",variant:"h6",children:m}):0===r.length?(0,w.jsx)(n.Z,{variant:"h6",children:"No withdrawals found."}):(0,w.jsx)(i.Z,{component:o.Z,children:(0,w.jsxs)(l.Z,{children:[(0,w.jsx)(d.Z,{children:(0,w.jsxs)(h.Z,{children:[(0,w.jsx)(u.Z,{children:"Date"}),(0,w.jsx)(u.Z,{children:"Amount"}),(0,w.jsx)(u.Z,{children:"Status"}),(0,w.jsx)(u.Z,{children:"Account Number"}),(0,w.jsx)(u.Z,{children:"Gateway"}),(0,w.jsx)(u.Z,{children:"Remarks"})]})}),(0,w.jsx)(x.Z,{children:r.map((e=>(0,w.jsxs)(h.Z,{children:[(0,w.jsx)(u.Z,{children:new Date(e.createdAt).toLocaleDateString()}),(0,w.jsxs)(u.Z,{children:["Rs,",e.amount]}),(0,w.jsx)(u.Z,{children:(0,w.jsx)(j.Z,{sx:{...k(e.status),padding:"4px 8px",borderRadius:"4px",display:"inline-block"},children:e.status})}),(0,w.jsx)(u.Z,{children:e.accountNumber||"-"}),(0,w.jsx)(u.Z,{children:e.gateway||"-"}),(0,w.jsx)(u.Z,{children:e.remarks||"-"})]},e._id)))})]})})})]})}}}]);
//# sourceMappingURL=299.e912b7df.chunk.js.map