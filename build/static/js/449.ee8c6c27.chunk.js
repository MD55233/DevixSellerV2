"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[449],{2449:function(e,r,a){a.r(r),a.d(r,{default:function(){return M}});var t=a(2791),n=a(5488),o=a(4554),i=a(890),s=a(1889),l=a(7621),c=a(3044),d=a(7),u=a(4072),h=a(6501),m=a(1981),p=a(7122),f=a(7608),g=a(501),v=a(4297),x=a(2903),Z=a(4294),b=a(556),k=a(7391),y=a(3239),j=a(6934),w=a(6999),P=a(1527),S=a(184);const C=(0,j.ZP)(w.Z)((e=>{let{theme:r}=e;return{overflow:"hidden",position:"relative",minHeight:"200px",maxHeight:"200px","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${r.palette.warning.dark} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${r.palette.warning.dark} -14.02%, rgba(144, 202, 249, 0) 70.50%)`,borderRadius:"50%",top:-160,right:-130}}}));var N=()=>{const{username:e}=(0,P.a)(),[r,a]=(0,t.useState)(!0),[n,s]=(0,t.useState)({fullName:"",username:"",email:"",phoneNumber:"",profilePicture:"",referredBy:""}),[l,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)({});(0,t.useEffect)((()=>{(async()=>{e&&(await m(),await p())})()}),[e]);const m=async()=>{try{const r=(await x.Z.get(`http://localhost:8001/api/user/${e}`)).data.user;s(r),h(r)}catch(r){console.error("Error fetching user profile:",r)}finally{a(!1)}},p=async()=>{try{const r=await x.Z.get(`http://localhost:8001/api/user/${e}/parent`);s((e=>({...e,referredBy:r.data.parent.fullName||r.data.parent.username})))}catch(r){console.error("Error fetching parent name:",r)}},f=()=>{d(!1),h(n)},g=e=>{const{name:r,value:a,type:t,files:n}=e.target;h("file"===t?e=>({...e,profilePicture:n[0]}):e=>({...e,[r]:a}))};return(0,S.jsxs)(C,{border:!1,content:!1,children:[(0,S.jsxs)(o.Z,{sx:{p:2,display:"flex",flexDirection:"column",alignItems:"center",minHeight:"400px"},children:[(0,S.jsx)(c.Z,{src:n.profilePicture?`http://localhost:8001/${n.profilePicture}`:"/path-to-default-avatar.jpg",alt:n.username,sx:{width:70,height:70,mb:2}}),(0,S.jsx)(i.Z,{variant:"h5",children:n.fullName||"Your Name"}),(0,S.jsxs)(i.Z,{variant:"subtitle2",children:["Referred by: ",n.referredBy||"N/A"]}),(0,S.jsx)(Z.Z,{variant:"contained",color:"primary",onClick:()=>{d(!0)},children:"Edit Profile"})]}),(0,S.jsx)(b.Z,{open:l,onClose:f,children:(0,S.jsxs)(o.Z,{sx:{p:3,backgroundColor:"white",borderRadius:"8px",width:"400px",mx:"auto",mt:"20%"},children:[(0,S.jsx)(i.Z,{variant:"h6",children:"Edit Profile"}),(0,S.jsx)(k.Z,{label:"Full Name",name:"fullName",value:u.fullName,onChange:g,fullWidth:!0,margin:"normal"}),(0,S.jsx)(k.Z,{label:"Email",name:"email",value:u.email,onChange:g,fullWidth:!0,margin:"normal"}),(0,S.jsx)(k.Z,{label:"Phone",name:"phone",value:u.phoneNumber,onChange:g,fullWidth:!0,margin:"normal"}),(0,S.jsx)(k.Z,{label:"Profile Picture",name:"profilePicture",type:"file",onChange:g,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),(0,S.jsx)(Z.Z,{variant:"contained",color:"primary",onClick:async()=>{try{const r=new FormData;Object.entries(u).forEach((e=>{let[a,t]=e;void 0!==t&&null!==t&&""!==t&&r.append(a,t)}));for(let[e,a]of r.entries())console.log(`FormData Key: ${e}, Value:`,a);if(r.has("fullName")||r.has("email")||r.has("phoneNumber")||r.has("profilePicture")){const a=await x.Z.put(`http://localhost:8001/api/user/${e}`,r,{headers:{"Content-Type":"multipart/form-data"}});s(a.data.user),h({fullName:a.data.user.fullName,email:a.data.user.email,phoneNumber:a.data.user.phoneNumber,profilePicture:""}),f()}else console.log("No changes detected, not updating.")}catch(r){console.error("Error updating profile:",r.response?r.response.data:r.message)}},children:"Update"})]})}),r&&(0,S.jsx)(y.Z,{})]})};var M=()=>{const e=(0,n.s0)(),r=[{label:"My Financial Management",icon:(0,S.jsx)(u.Z,{}),route:"/dashboard/default"},{label:"Invite Friends",icon:(0,S.jsx)(h.Z,{}),route:"/payments/referral/plans"},{label:"Our Payment Accounts",icon:(0,S.jsx)(v.Z,{}),route:"/payment-accounts"},{label:"Top-up Records",icon:(0,S.jsx)(m.Z,{}),route:"/Transactions/deposit-history"},{label:"Withdraw Records",icon:(0,S.jsx)(m.Z,{}),route:"/payments/withdraw"},{label:"Personal Information",icon:(0,S.jsx)(g.Z,{}),route:"/utilities/userInfoPage"},{label:"Bank Information",icon:(0,S.jsx)(u.Z,{}),route:"/wallet/all"},{label:"Account Security",icon:(0,S.jsx)(p.Z,{}),route:"/password-change"},{label:"Sign Out",icon:(0,S.jsx)(f.Z,{}),route:"/pages/login/login3"}],[a,x]=(0,t.useState)(!0);(0,t.useEffect)((()=>{x(!1)}),[]);const{setAuthenticatedUsername:Z}=(0,P.a)(),b=r=>{"/pages/login/login3"===r?(async()=>{try{Z(null),e("/pages/login/login3"),console.log("Logged Out!")}catch(r){console.error("There was an error logging out!",r)}})():e(r)};return(0,S.jsxs)(o.Z,{sx:{padding:"16px",backgroundColor:d.Z[50],minHeight:"100vh"},children:[(0,S.jsx)(i.Z,{variant:"h5",sx:{textAlign:"center",fontWeight:700,marginBottom:"24px",color:d.Z[800]},children:"Member Centre"}),(0,S.jsx)(s.ZP,{item:!0,lg:4,md:6,sm:6,xs:12,sx:{marginBottom:2},children:(0,S.jsx)(N,{isLoading:a})}),(0,S.jsx)(s.ZP,{container:!0,spacing:2,children:r.map(((e,r)=>(0,S.jsx)(s.ZP,{item:!0,xs:12,children:(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",padding:"12px 16px",cursor:"pointer",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s","&:hover":{transform:"scale(1.02)"}},onClick:()=>b(e.route),children:[(0,S.jsx)(c.Z,{sx:{marginRight:"16px",backgroundColor:d.Z[100],color:d.Z[700]},children:e.icon}),(0,S.jsx)(i.Z,{variant:"body1",sx:{fontWeight:500,color:d.Z[900]},children:e.label})]})},r)))})]})}},4072:function(e,r,a){var t=a(4836);r.Z=void 0;var n=t(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"AccountBalanceWallet");r.Z=i},4297:function(e,r,a){var t=a(4836);r.Z=void 0;var n=t(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"CreditCard");r.Z=i},7608:function(e,r,a){var t=a(4836);r.Z=void 0;var n=t(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");r.Z=i},1981:function(e,r,a){var t=a(4836);r.Z=void 0;var n=t(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"History");r.Z=i},6501:function(e,r,a){var t=a(4836);r.Z=void 0;var n=t(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}),"MonetizationOn");r.Z=i},501:function(e,r,a){var t=a(4836);r.Z=void 0;var n=t(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");r.Z=i},7122:function(e,r,a){var t=a(4836);r.Z=void 0;var n=t(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");r.Z=i},3239:function(e,r,a){a.d(r,{Z:function(){return N}});var t=a(3366),n=a(7462),o=a(2791),i=a(9278),s=a(4419),l=a(2554),c=a(4036),d=a(1402),u=a(6934),h=a(5878),m=a(1217);function p(e){return(0,m.Z)("MuiCircularProgress",e)}(0,h.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var f=a(184);const g=["className","color","disableShrink","size","style","thickness","value","variant"];let v,x,Z,b,k=e=>e;const y=44,j=(0,l.F4)(v||(v=k`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),w=(0,l.F4)(x||(x=k`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),P=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[a.variant],r[`color${(0,c.Z)(a.color)}`]]}})((e=>{let{ownerState:r,theme:a}=e;return(0,n.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:a.transitions.create("transform")},"inherit"!==r.color&&{color:(a.vars||a).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.iv)(Z||(Z=k`
      animation: ${0} 1.4s linear infinite;
    `),j)})),S=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),C=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.circle,r[`circle${(0,c.Z)(a.variant)}`],a.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:a}=e;return(0,n.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:a.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.iv)(b||(b=k`
      animation: ${0} 1.4s ease-in-out infinite;
    `),w)}));var N=o.forwardRef((function(e,r){const a=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:o,color:l="primary",disableShrink:u=!1,size:h=40,style:m,thickness:v=3.6,value:x=0,variant:Z="indeterminate"}=a,b=(0,t.Z)(a,g),k=(0,n.Z)({},a,{color:l,disableShrink:u,size:h,thickness:v,value:x,variant:Z}),j=(e=>{const{classes:r,variant:a,color:t,disableShrink:n}=e,o={root:["root",a,`color${(0,c.Z)(t)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(a)}`,n&&"circleDisableShrink"]};return(0,s.Z)(o,p,r)})(k),w={},N={},M={};if("determinate"===Z){const e=2*Math.PI*((y-v)/2);w.strokeDasharray=e.toFixed(3),M["aria-valuenow"]=Math.round(x),w.strokeDashoffset=`${((100-x)/100*e).toFixed(3)}px`,N.transform="rotate(-90deg)"}return(0,f.jsx)(P,(0,n.Z)({className:(0,i.Z)(j.root,o),style:(0,n.Z)({width:h,height:h},N,m),ownerState:k,ref:r,role:"progressbar"},M,b,{children:(0,f.jsx)(S,{className:j.svg,ownerState:k,viewBox:"22 22 44 44",children:(0,f.jsx)(C,{className:j.circle,style:w,ownerState:k,cx:y,cy:y,r:(y-v)/2,fill:"none",strokeWidth:v})})}))}))}}]);
//# sourceMappingURL=449.ee8c6c27.chunk.js.map