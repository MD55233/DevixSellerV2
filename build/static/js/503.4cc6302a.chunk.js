"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[503],{1503:function(e,a,t){t.r(a);var n=t(2791),i=t(1889),r=t(890),o=t(5527),s=t(7391),l=t(8096),d=t(4925),c=t(7198),p=t(3786),u=t(4294),m=t(7621),g=t(2169),v=t(4554),h=t(2903),y=t(5488),b=t(1527),f=t(184);a.default=()=>{const e=(0,y.s0)(),{username:a}=(0,b.a)(),t=JSON.parse(localStorage.getItem("selectedPlan")),[Z,x]=(0,n.useState)(""),[C,j]=(0,n.useState)(""),[k,S]=(0,n.useState)(""),[$,w]=(0,n.useState)(null),[I,M]=(0,n.useState)(""),[P,O]=(0,n.useState)("");(0,n.useEffect)((()=>{t&&j(t.price||"")}),[t]);return(0,f.jsxs)(i.ZP,{container:!0,spacing:3,justifyContent:"center",children:[(0,f.jsx)(i.ZP,{item:!0,xs:12,children:(0,f.jsx)(r.Z,{variant:"h3",gutterBottom:!0,sx:{color:"secondary.main",textAlign:"center"},children:"Upload Payment Verification Details"})}),(0,f.jsx)(i.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsxs)(o.Z,{elevation:3,sx:{padding:2},children:[(0,f.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!Z||!C||!k||!$||!a||!t)return M("All fields are required, including the image."),void O("");const i=new FormData;i.append("username",a),i.append("transactionId",Z),i.append("transactionAmount",C),i.append("gateway",k),i.append("image",$),i.append("planName",t.name),i.append("planPrice",t.price),i.append("directBonus",t.DirectBonus),i.append("indirectBonus",t.IndirectBonus),i.append("DailyTaskLimit",t.DailyTaskLimit);try{const a=await h.Z.post("http://localhost:8001/api/referral-payment/upload",i,{headers:{"Content-Type":"multipart/form-data"}});console.log("Success:",a.data),O("Referral payment details uploaded successfully."),M(""),x(""),S(""),w(null),localStorage.removeItem("selectedPlan"),setTimeout((()=>{e("/payments/referral/plans")}),2e3)}catch(s){var r,o;const e=(null===(r=s.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||"Error submitting the form. Please try again.";M(e),O("")}},children:[(0,f.jsx)(s.Z,{required:!0,fullWidth:!0,id:"transactionId",label:"Transaction ID",value:Z,onChange:e=>x(e.target.value),margin:"normal",variant:"outlined"}),(0,f.jsxs)(l.Z,{fullWidth:!0,margin:"normal",variant:"outlined",children:[(0,f.jsx)(d.Z,{id:"transactionAmount-label",children:"Transaction Amount"}),(0,f.jsx)(c.Z,{labelId:"transactionAmount-label",id:"transactionAmount",value:C,onChange:e=>j(e.target.value),label:"Transaction Amount",children:(0,f.jsx)(p.Z,{value:C,children:C})})]}),(0,f.jsxs)(l.Z,{fullWidth:!0,margin:"normal",variant:"outlined",children:[(0,f.jsx)(d.Z,{id:"gateway-label",children:"Gateway/Bank"}),(0,f.jsxs)(c.Z,{labelId:"gateway-label",id:"gateway",value:k,onChange:e=>S(e.target.value),label:"Gateway/Bank",children:[(0,f.jsx)(p.Z,{value:"JazzCash",children:"JazzCash"}),(0,f.jsx)(p.Z,{value:"Easypaisa",children:"Easypaisa"}),(0,f.jsx)(p.Z,{value:"NayaPay",children:"NayaPay"}),(0,f.jsx)(p.Z,{value:"SadaPay",children:"SadaPay"}),(0,f.jsx)(p.Z,{value:"Bank Transfer",children:"Bank Transfer"})]})]}),(0,f.jsx)("input",{accept:"image/*",id:"image-upload",type:"file",onChange:e=>{const a=e.target.files[0];a&&a.type.startsWith("image/")?w(a):alert("Please upload a valid image file.")},style:{display:"none"}}),(0,f.jsx)("label",{htmlFor:"image-upload",children:(0,f.jsx)(u.Z,{variant:"outlined",component:"span",sx:{marginTop:2},children:"Upload Screenshot (Payment Proof)"})}),$&&(0,f.jsx)(m.Z,{sx:{maxWidth:300,marginTop:2},children:(0,f.jsx)(g.Z,{component:"img",height:"auto",image:URL.createObjectURL($),alt:"Uploaded Screenshot"})}),(0,f.jsx)(v.Z,{display:"flex",justifyContent:"center",sx:{marginTop:2},children:(0,f.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",disabled:!Z||!C||!k||!$,children:"Submit"})})]}),P&&(0,f.jsx)(r.Z,{variant:"h4",color:"success.main",sx:{marginTop:2,textAlign:"center"},children:P}),I&&(0,f.jsx)(r.Z,{variant:"h6",color:"error.main",sx:{marginTop:2,textAlign:"center"},children:I})]})})]})}},2169:function(e,a,t){t.d(a,{Z:function(){return b}});var n=t(3366),i=t(7462),r=t(2791),o=t(9278),s=t(4419),l=t(1402),d=t(6934),c=t(5878),p=t(1217);function u(e){return(0,p.Z)("MuiCardMedia",e)}(0,c.Z)("MuiCardMedia",["root","media","img"]);var m=t(184);const g=["children","className","component","image","src","style"],v=(0,d.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e,{isMediaComponent:n,isImageComponent:i}=t;return[a.root,n&&a.media,i&&a.img]}})((e=>{let{ownerState:a}=e;return(0,i.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},a.isMediaComponent&&{width:"100%"},a.isImageComponent&&{objectFit:"cover"})})),h=["video","audio","picture","iframe","img"],y=["picture","img"];var b=r.forwardRef((function(e,a){const t=(0,l.Z)({props:e,name:"MuiCardMedia"}),{children:r,className:d,component:c="div",image:p,src:b,style:f}=t,Z=(0,n.Z)(t,g),x=-1!==h.indexOf(c),C=!x&&p?(0,i.Z)({backgroundImage:`url("${p}")`},f):f,j=(0,i.Z)({},t,{component:c,isMediaComponent:x,isImageComponent:-1!==y.indexOf(c)}),k=(e=>{const{classes:a,isMediaComponent:t,isImageComponent:n}=e,i={root:["root",t&&"media",n&&"img"]};return(0,s.Z)(i,u,a)})(j);return(0,m.jsx)(v,(0,i.Z)({className:(0,o.Z)(k.root,d),as:c,role:!x&&p?"img":void 0,ref:a,style:C,ownerState:j,src:x?p||b:void 0},Z,{children:r}))}))},3786:function(e,a,t){t.d(a,{Z:function(){return S}});var n=t(3366),i=t(7462),r=t(2791),o=t(9278),s=t(4419),l=t(2065),d=t(6934),c=t(1402),p=t(9480),u=t(533),m=t(162),g=t(2071),v=t(133),h=t(6014),y=t(9849),b=t(5878),f=t(1217);function Z(e){return(0,f.Z)("MuiMenuItem",e)}var x=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),C=t(184);const j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(0,d.ZP)(u.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,t.dense&&a.dense,t.divider&&a.divider,!t.disableGutters&&a.gutters]}})((e=>{let{theme:a,ownerState:t}=e;return(0,i.Z)({},a.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(a.vars||a).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity),[`&.${x.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}},[`&.${x.selected}:hover`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}},[`&.${x.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`&.${x.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity},[`& + .${v.Z.root}`]:{marginTop:a.spacing(1),marginBottom:a.spacing(1)},[`& + .${v.Z.inset}`]:{marginLeft:52},[`& .${y.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${y.Z.inset}`]:{paddingLeft:36},[`& .${h.Z.root}`]:{minWidth:36}},!t.dense&&{[a.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2,{[`& .${h.Z.root} svg`]:{fontSize:"1.25rem"}}))}));var S=r.forwardRef((function(e,a){const t=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:d="li",dense:u=!1,divider:v=!1,disableGutters:h=!1,focusVisibleClassName:y,role:b="menuitem",tabIndex:f,className:x}=t,S=(0,n.Z)(t,j),$=r.useContext(p.Z),w=r.useMemo((()=>({dense:u||$.dense||!1,disableGutters:h})),[$.dense,u,h]),I=r.useRef(null);(0,m.Z)((()=>{l&&I.current&&I.current.focus()}),[l]);const M=(0,i.Z)({},t,{dense:w.dense,divider:v,disableGutters:h}),P=(e=>{const{disabled:a,dense:t,divider:n,disableGutters:r,selected:o,classes:l}=e,d={root:["root",t&&"dense",a&&"disabled",!r&&"gutters",n&&"divider",o&&"selected"]},c=(0,s.Z)(d,Z,l);return(0,i.Z)({},l,c)})(t),O=(0,g.Z)(I,a);let T;return t.disabled||(T=void 0!==f?f:-1),(0,C.jsx)(p.Z.Provider,{value:w,children:(0,C.jsx)(k,(0,i.Z)({ref:O,role:b,tabIndex:T,component:d,focusVisibleClassName:(0,o.Z)(P.focusVisible,y),className:(0,o.Z)(P.root,x)},S,{ownerState:M,classes:P}))})}))}}]);
//# sourceMappingURL=503.4cc6302a.chunk.js.map