"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[0],{3e3:function(e,t,r){r.r(t);var a=r(2791),s=r(1889),n=r(890),c=r(3239),o=r(9281),i=r(5527),l=r(9836),d=r(6890),h=r(5855),u=r(3994),x=r(3382),j=r(4554),Z=r(2903),k=r(1527),m=r(184);t.default=()=>{const{username:e}=(0,k.a)(),[t,r]=(0,a.useState)([]),[f,p]=(0,a.useState)(!0),[g,b]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{try{const t=(await Z.Z.get(`http://localhost:8001/api/task-transactions/${e}`)).data.map((e=>({...e,type:"Task Transaction",status:e.status,amount:e.amount,taskName:e.taskId.name,accountNumber:"-",gateway:"-",remarks:e.description})));t.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))),r(t),p(!1)}catch(g){console.error("Error fetching task transactions:",g),b("Error fetching task transactions. Please try again."),p(!1)}})()}),[e]);const y=e=>{switch(e){case"approved":return{backgroundColor:"#d4edda",color:"#155724"};case"rejected":return{backgroundColor:"#f8d7da",color:"#721c24"};case"pending":return{backgroundColor:"#fff3cd",color:"#856404"};default:return{backgroundColor:"#ffffff",color:"#000000"}}};return(0,m.jsxs)(s.ZP,{container:!0,spacing:3,justifyContent:"center",children:[(0,m.jsx)(s.ZP,{item:!0,xs:12,children:(0,m.jsx)(n.Z,{variant:"h3",gutterBottom:!0,sx:{color:"secondary.main",textAlign:"center"},children:"Task Transaction History"})}),(0,m.jsx)(s.ZP,{item:!0,xs:12,sm:8,children:f?(0,m.jsx)(c.Z,{}):g?(0,m.jsx)(n.Z,{color:"error",variant:"h6",children:g}):0===t.length?(0,m.jsx)(n.Z,{variant:"h6",children:"No task transactions found."}):(0,m.jsx)(o.Z,{component:i.Z,children:(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(d.Z,{children:(0,m.jsxs)(h.Z,{children:[(0,m.jsx)(u.Z,{children:"Date"}),(0,m.jsx)(u.Z,{children:"Task Name"}),(0,m.jsx)(u.Z,{children:"Amount"}),(0,m.jsx)(u.Z,{children:"Status"}),(0,m.jsx)(u.Z,{children:"Account Number"}),(0,m.jsx)(u.Z,{children:"Gateway"}),(0,m.jsx)(u.Z,{children:"Remarks"})]})}),(0,m.jsx)(x.Z,{children:t.map((e=>(0,m.jsxs)(h.Z,{children:[(0,m.jsx)(u.Z,{children:new Date(e.createdAt).toLocaleDateString()}),(0,m.jsx)(u.Z,{children:e.taskName}),(0,m.jsxs)(u.Z,{children:["Rs ",e.amount]}),(0,m.jsx)(u.Z,{children:(0,m.jsx)(j.Z,{sx:{...y(e.status),padding:"4px 8px",borderRadius:"4px",display:"inline-block"},children:e.status})}),(0,m.jsx)(u.Z,{children:e.accountNumber||"-"}),(0,m.jsx)(u.Z,{children:e.gateway||"-"}),(0,m.jsx)(u.Z,{children:e.remarks||"-"})]},e._id)))})]})})})]})}}}]);
//# sourceMappingURL=0.c99896d7.chunk.js.map