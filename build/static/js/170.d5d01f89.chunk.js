"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[170],{6170:function(e,r,t){t.r(r);var s=t(2791),n=t(1889),a=t(890),c=t(3239),o=t(9281),i=t(5527),d=t(9836),l=t(6890),h=t(5855),u=t(3994),x=t(3382),j=t(4554),p=t(2903),Z=t(1527),f=t(184);r.default=()=>{const{username:e}=(0,Z.a)(),[r,t]=(0,s.useState)([]),[g,m]=(0,s.useState)(!0),[k,y]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{if(!e)return y("No user is logged in."),void m(!1);const r=(await p.Z.get(`http://localhost:8001/api/user/transactions/${e}`)).data.map((e=>({_id:e._id,createdAt:e.createdAt,transactionAmount:e.transactionAmount,type:e.type,status:e.status||"pending",remarks:e.remarks||"No remarks provided."})));r.sort(((e,r)=>new Date(r.createdAt)-new Date(e.createdAt))),t(r),m(!1)}catch(k){console.error("Error fetching deposit history:",k),y("Error fetching deposit history. Please try again."),m(!1)}})()}),[e]);const A=e=>{switch(e){case"approved":return{backgroundColor:"#d4edda",color:"#155724"};case"rejected":return{backgroundColor:"#f8d7da",color:"#721c24"};case"pending":return{backgroundColor:"#fff3cd",color:"#856404"};default:return{backgroundColor:"#ffffff",color:"#000000"}}};return(0,f.jsxs)(n.ZP,{container:!0,spacing:3,justifyContent:"center",children:[(0,f.jsx)(n.ZP,{item:!0,xs:12,children:(0,f.jsx)(a.Z,{variant:"h3",gutterBottom:!0,sx:{color:"secondary.main",textAlign:"center"},children:"Deposit History"})}),(0,f.jsx)(n.ZP,{item:!0,xs:12,sm:8,children:g?(0,f.jsx)(c.Z,{}):k?(0,f.jsx)(a.Z,{color:"error",variant:"h6",children:k}):0===r.length?(0,f.jsx)(a.Z,{variant:"h6",children:"No transactions found."}):(0,f.jsx)(o.Z,{component:i.Z,children:(0,f.jsxs)(d.Z,{children:[(0,f.jsx)(l.Z,{children:(0,f.jsxs)(h.Z,{children:[(0,f.jsx)(u.Z,{children:"Date"}),(0,f.jsx)(u.Z,{children:"Type"}),(0,f.jsx)(u.Z,{children:"Amount"}),(0,f.jsx)(u.Z,{children:"Status"}),(0,f.jsx)(u.Z,{children:"Remarks"})]})}),(0,f.jsx)(x.Z,{children:r.map((e=>(0,f.jsxs)(h.Z,{children:[(0,f.jsx)(u.Z,{children:new Date(e.createdAt).toLocaleDateString()}),(0,f.jsx)(u.Z,{children:e.type}),(0,f.jsxs)(u.Z,{children:["Rs,",e.transactionAmount]}),(0,f.jsx)(u.Z,{children:(0,f.jsx)(j.Z,{sx:{...A(e.status),padding:"4px 8px",borderRadius:"4px",display:"inline-block"},children:e.status})}),(0,f.jsx)(u.Z,{children:e.remarks||"-"})]},e._id)))})]})})})]})}}}]);
//# sourceMappingURL=170.d5d01f89.chunk.js.map