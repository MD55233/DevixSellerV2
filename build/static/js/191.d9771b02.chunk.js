"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[191],{191:function(e,t,a){a.r(t),a.d(t,{default:function(){return ie}});var r=a(2791),o=a(1889),i=a(890),n=a(5527),l=a(4554),s=a(4294),d=a(7391),c=a(8096),p=a(4925),u=a(7198),m=a(3786),h=a(3366),g=a(7462),x=a(9278),v=a(4419),Z=a(8252),b=a(4036),f=a(556),y=a(627),w=a(1402),S=a(6934),C=a(5878),j=a(1217);function k(e){return(0,j.Z)("MuiDialog",e)}var W=(0,C.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var $=r.createContext({}),M=a(2739),D=a(3967),P=a(184);const N=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],T=(0,S.ZP)(M.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),R=(0,S.ZP)(f.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),B=(0,S.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.container,t[`scroll${(0,b.Z)(a.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,g.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),A=(0,S.ZP)(n.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.paper,t[`scrollPaper${(0,b.Z)(a.scroll)}`],t[`paperWidth${(0,b.Z)(String(a.maxWidth))}`],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:a}=e;return(0,g.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===a.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===a.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!a.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===a.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${W.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},a.maxWidth&&"xs"!==a.maxWidth&&{maxWidth:`${t.breakpoints.values[a.maxWidth]}${t.breakpoints.unit}`,[`&.${W.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[a.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},a.fullWidth&&{width:"calc(100% - 64px)"},a.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${W.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})}));var F=r.forwardRef((function(e,t){const a=(0,w.Z)({props:e,name:"MuiDialog"}),o=(0,D.Z)(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":s,BackdropComponent:d,BackdropProps:c,children:p,className:u,disableEscapeKeyDown:m=!1,fullScreen:f=!1,fullWidth:S=!1,maxWidth:C="sm",onBackdropClick:j,onClose:W,open:M,PaperComponent:F=n.Z,PaperProps:I={},scroll:O="paper",TransitionComponent:q=y.Z,transitionDuration:E=i,TransitionProps:L}=a,G=(0,h.Z)(a,N),V=(0,g.Z)({},a,{disableEscapeKeyDown:m,fullScreen:f,fullWidth:S,maxWidth:C,scroll:O}),_=(e=>{const{classes:t,scroll:a,maxWidth:r,fullWidth:o,fullScreen:i}=e,n={root:["root"],container:["container",`scroll${(0,b.Z)(a)}`],paper:["paper",`paperScroll${(0,b.Z)(a)}`,`paperWidth${(0,b.Z)(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,v.Z)(n,k,t)})(V),H=r.useRef(),Y=(0,Z.Z)(s),z=r.useMemo((()=>({titleId:Y})),[Y]);return(0,P.jsx)(R,(0,g.Z)({className:(0,x.Z)(_.root,u),closeAfterTransition:!0,components:{Backdrop:T},componentsProps:{backdrop:(0,g.Z)({transitionDuration:E,as:d},c)},disableEscapeKeyDown:m,onClose:W,open:M,ref:t,onClick:e=>{H.current&&(H.current=null,j&&j(e),W&&W(e,"backdropClick"))},ownerState:V},G,{children:(0,P.jsx)(q,(0,g.Z)({appear:!0,in:M,timeout:E,role:"presentation"},L,{children:(0,P.jsx)(B,{className:(0,x.Z)(_.container),onMouseDown:e=>{H.current=e.target===e.currentTarget},ownerState:V,children:(0,P.jsx)(A,(0,g.Z)({as:F,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":Y},I,{className:(0,x.Z)(_.paper,I.className),ownerState:V,children:(0,P.jsx)($.Provider,{value:z,children:p})}))})}))}))}));function I(e){return(0,j.Z)("MuiDialogTitle",e)}var O=(0,C.Z)("MuiDialogTitle",["root"]);const q=["className","id"],E=(0,S.ZP)(i.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"});var L=r.forwardRef((function(e,t){const a=(0,w.Z)({props:e,name:"MuiDialogTitle"}),{className:o,id:i}=a,n=(0,h.Z)(a,q),l=a,s=(e=>{const{classes:t}=e;return(0,v.Z)({root:["root"]},I,t)})(l),{titleId:d=i}=r.useContext($);return(0,P.jsx)(E,(0,g.Z)({component:"h2",className:(0,x.Z)(s.root,o),ownerState:l,ref:t,variant:"h6",id:null!=i?i:d},n))}));function G(e){return(0,j.Z)("MuiDialogContent",e)}(0,C.Z)("MuiDialogContent",["root","dividers"]);const V=["className","dividers"],_=(0,S.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:a}=e;return(0,g.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},a.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${O.root} + &`]:{paddingTop:0}})}));var H=r.forwardRef((function(e,t){const a=(0,w.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=a,i=(0,h.Z)(a,V),n=(0,g.Z)({},a,{dividers:o}),l=(e=>{const{classes:t,dividers:a}=e,r={root:["root",a&&"dividers"]};return(0,v.Z)(r,G,t)})(n);return(0,P.jsx)(_,(0,g.Z)({className:(0,x.Z)(l.root,r),ownerState:n,ref:t},i))}));function Y(e){return(0,j.Z)("MuiDialogContentText",e)}(0,C.Z)("MuiDialogContentText",["root"]);const z=["children","className"],K=(0,S.ZP)(i.Z,{shouldForwardProp:e=>(0,S.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var X=r.forwardRef((function(e,t){const a=(0,w.Z)({props:e,name:"MuiDialogContentText"}),{className:r}=a,o=(0,h.Z)(a,z),i=(e=>{const{classes:t}=e,a=(0,v.Z)({root:["root"]},Y,t);return(0,g.Z)({},t,a)})(o);return(0,P.jsx)(K,(0,g.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,x.Z)(i.root,r)},a,{classes:i}))}));function J(e){return(0,j.Z)("MuiDialogActions",e)}(0,C.Z)("MuiDialogActions",["root","spacing"]);const Q=["className","disableSpacing"],U=(0,S.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,g.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}));var ee=r.forwardRef((function(e,t){const a=(0,w.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=a,i=(0,h.Z)(a,Q),n=(0,g.Z)({},a,{disableSpacing:o}),l=(e=>{const{classes:t,disableSpacing:a}=e,r={root:["root",!a&&"spacing"]};return(0,v.Z)(r,J,t)})(n);return(0,P.jsx)(U,(0,g.Z)({className:(0,x.Z)(l.root,r),ownerState:n,ref:t},i))})),te=a(1527),ae=a(2903),re=a(6871),oe=a(7546);var ie=()=>{const{username:e}=(0,te.a)(),t=(0,re.s0)(),[a,h]=(0,r.useState)(""),[g,x]=(0,r.useState)(""),[v,Z]=(0,r.useState)([]),[b,f]=(0,r.useState)(""),[y,w]=(0,r.useState)(""),[S,C]=(0,r.useState)(""),[j,k]=(0,r.useState)(!1),[W,$]=(0,r.useState)(null),[M,D]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const t=await ae.Z.get(`http://localhost:8001/api/user-accounts/${e}`);Z(t.data)}catch(t){console.error("Error fetching wallets:",t)}})()}),[e]);const N=()=>{k(!1)},T=()=>{t("/wallet/add")};return(0,P.jsxs)(o.ZP,{container:!0,spacing:3,justifyContent:"center",children:[(0,P.jsx)(o.ZP,{item:!0,xs:12,children:(0,P.jsx)(i.Z,{variant:"h3",gutterBottom:!0,sx:{color:"secondary.main",textAlign:"center"},children:"Withdraw Balance"})}),(0,P.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,P.jsxs)(n.Z,{elevation:3,sx:{padding:2},children:[0===v.length?(0,P.jsxs)(l.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,P.jsx)(i.Z,{variant:"h6",color:"text.secondary",sx:{marginBottom:2},children:"No wallets added. Please add a wallet to proceed."}),(0,P.jsx)(s.Z,{variant:"contained",color:"primary",onClick:T,children:"Add Wallet"})]}):(0,P.jsxs)("form",{onSubmit:t=>{var r;t.preventDefault();const o={username:e,withdrawAmount:a,gateway:(null===(r=v.find((e=>e._id===g)))||void 0===r?void 0:r.gateway)||"",accountNumber:b,accountTitle:y};$(o),k(!0)},children:[(0,P.jsx)(d.Z,{required:!0,fullWidth:!0,id:"withdrawAmount",label:"Withdraw Amount",type:"number",value:a,onChange:e=>h(e.target.value),margin:"normal",variant:"outlined"}),(0,P.jsxs)(c.Z,{fullWidth:!0,margin:"normal",variant:"outlined",children:[(0,P.jsx)(p.Z,{id:"wallet-label",children:"Select Wallet"}),(0,P.jsx)(u.Z,{labelId:"wallet-label",id:"wallet",value:g,onChange:e=>{const t=e.target.value,a=v.find((e=>e._id===t));x(t),f(a?a.accountNumber:""),w(a?a.accountTitle:"")},label:"Select Wallet",children:v.map((e=>(0,P.jsx)(m.Z,{value:e._id,children:e.gateway},e._id)))})]}),(0,P.jsx)(d.Z,{required:!0,fullWidth:!0,id:"accountNumber",label:"Account Number",value:b,margin:"normal",variant:"outlined",disabled:!0}),(0,P.jsx)(d.Z,{required:!0,fullWidth:!0,id:"accountTitle",label:"Account Title",value:y,margin:"normal",variant:"outlined",disabled:!0}),(0,P.jsxs)(l.Z,{display:"flex",justifyContent:"center",sx:{marginTop:2},children:[(0,P.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",disabled:!a||!g,children:"Submit Withdraw Request"}),(0,P.jsx)(s.Z,{variant:"outlined",onClick:T,sx:{marginLeft:2},children:"Add More Wallet"})]})]}),S&&(0,P.jsx)(i.Z,{variant:"h6",color:"error.main",sx:{marginTop:2,textAlign:"center"},children:S})]})}),(0,P.jsxs)(F,{open:j,onClose:N,children:[(0,P.jsx)(L,{children:"Confirm Withdrawal"}),(0,P.jsx)(H,{children:M?(0,P.jsxs)(oe.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.5},style:{textAlign:"center",marginTop:20},children:[(0,P.jsx)("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"70px",height:"70px",borderRadius:"50%",margin:"0 auto"},children:(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"#13E880",width:"64px",height:"64px",children:[(0,P.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#13E880",strokeWidth:"2"}),(0,P.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2l4-4"})]})}),(0,P.jsx)(i.Z,{variant:"h6",color:"success.main",sx:{marginTop:2},children:"Your withdrawal request has been submitted and is waiting for approval."})]}):(0,P.jsxs)(X,{children:["Are you sure you want to withdraw ",a," using the selected wallet? This action cannot be undone."]})}),(0,P.jsxs)(ee,{children:[(0,P.jsx)(s.Z,{onClick:N,color:"primary",disabled:M,children:"Cancel"}),(0,P.jsx)(s.Z,{onClick:M?N:async()=>{try{const e=localStorage.getItem("token"),t=await ae.Z.post("http://localhost:8001/api/withdraw-balance",W,{headers:{Authorization:`Bearer ${e}`}});console.log("Withdrawal request submitted:",t.data),h(""),x(""),f(""),w(""),D(!0)}catch(e){console.error("Error submitting withdrawal request:",e),C("Error submitting form. Please try again."),k(!1)}},color:"primary",children:M?"Close":"Confirm"})]})]})]})}},3786:function(e,t,a){a.d(t,{Z:function(){return j}});var r=a(3366),o=a(7462),i=a(2791),n=a(9278),l=a(4419),s=a(2065),d=a(6934),c=a(1402),p=a(9480),u=a(533),m=a(162),h=a(2071),g=a(133),x=a(6014),v=a(9849),Z=a(5878),b=a(1217);function f(e){return(0,b.Z)("MuiMenuItem",e)}var y=(0,Z.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),w=a(184);const S=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,d.ZP)(u.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,o.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,s.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${y.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,s.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${y.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,s.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,s.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${y.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${g.Z.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${g.Z.inset}`]:{marginLeft:52},[`& .${v.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${v.Z.inset}`]:{paddingLeft:36},[`& .${x.Z.root}`]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${x.Z.root} svg`]:{fontSize:"1.25rem"}}))}));var j=i.forwardRef((function(e,t){const a=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:d="li",dense:u=!1,divider:g=!1,disableGutters:x=!1,focusVisibleClassName:v,role:Z="menuitem",tabIndex:b,className:y}=a,j=(0,r.Z)(a,S),k=i.useContext(p.Z),W=i.useMemo((()=>({dense:u||k.dense||!1,disableGutters:x})),[k.dense,u,x]),$=i.useRef(null);(0,m.Z)((()=>{s&&$.current&&$.current.focus()}),[s]);const M=(0,o.Z)({},a,{dense:W.dense,divider:g,disableGutters:x}),D=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:i,selected:n,classes:s}=e,d={root:["root",a&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",n&&"selected"]},c=(0,l.Z)(d,f,s);return(0,o.Z)({},s,c)})(a),P=(0,h.Z)($,t);let N;return a.disabled||(N=void 0!==b?b:-1),(0,w.jsx)(p.Z.Provider,{value:W,children:(0,w.jsx)(C,(0,o.Z)({ref:P,role:Z,tabIndex:N,component:d,focusVisibleClassName:(0,n.Z)(D.focusVisible,v),className:(0,n.Z)(D.root,y)},j,{ownerState:M,classes:D}))})}))}}]);
//# sourceMappingURL=191.d9771b02.chunk.js.map