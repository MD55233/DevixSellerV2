"use strict";(self.webpackChunklaikostar_seller=self.webpackChunklaikostar_seller||[]).push([[655],{655:function(e,r,t){t.r(r);var a=t(2791),i=t(2903),o=t(1527),n=t(4554),s=t(7621),l=t(890),c=t(1889),d=t(4294),p=t(5289),u=t(9157),h=t(3239),m=t(8384),x=t(5560),v=t(4072),Z=t(184);r.default=e=>{let{apiBaseUrl:r}=e;const[t,f]=(0,a.useState)({commission:0,balance:0,completedTasks:0,taskLimit:4}),[k,g]=(0,a.useState)([]),[b,S]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1),{username:j}=(0,o.a)();(0,a.useEffect)((()=>{j&&((async()=>{try{const e=await i.Z.get(`http://localhost:8001/api/user/${j}`);f({commission:e.data.user.pendingCommission||0,balance:e.data.user.balance||0,completedTasks:e.data.user.tasksCompletedToday||0,taskLimit:e.data.user.dailyTaskLimit||0})}catch(e){console.error("Error fetching user data:",e)}})(),(async()=>{try{const e=await i.Z.get("http://localhost:8001/api/tasks");g(e.data.tasks)}catch(e){console.error("Error fetching tasks:",e)}})())}),[j,r]);return(0,Z.jsxs)(n.Z,{p:2,children:[(0,Z.jsxs)(s.Z,{sx:{mb:3,p:2,borderRadius:"16px",backgroundColor:"#E8F5E9"},children:[(0,Z.jsx)(l.Z,{variant:"h6",align:"center",gutterBottom:!0,children:"Task Center"}),(0,Z.jsxs)(c.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,Z.jsxs)(c.ZP,{item:!0,xs:6,sm:3,textAlign:"center",children:[(0,Z.jsx)(l.Z,{variant:"subtitle2",children:"Today Commission"}),(0,Z.jsxs)(l.Z,{variant:"h6",children:["Rs ",t.commission.toFixed(2)]})]}),(0,Z.jsxs)(c.ZP,{item:!0,xs:6,sm:3,textAlign:"center",children:[(0,Z.jsx)(l.Z,{variant:"subtitle2",children:"Available Balance"}),(0,Z.jsxs)(l.Z,{variant:"h6",children:[(0,Z.jsx)(v.Z,{fontSize:"small"})," Rs ",t.balance.toFixed(2)]})]}),(0,Z.jsxs)(c.ZP,{item:!0,xs:6,sm:3,textAlign:"center",children:[(0,Z.jsx)(l.Z,{variant:"subtitle2",children:"Completed Orders Today"}),(0,Z.jsx)(l.Z,{variant:"h6",children:t.completedTasks})]}),(0,Z.jsxs)(c.ZP,{item:!0,xs:6,sm:3,textAlign:"center",children:[(0,Z.jsx)(l.Z,{variant:"subtitle2",children:"Daily Order Limit"}),(0,Z.jsx)(l.Z,{variant:"h6",children:t.taskLimit})]})]})]}),(0,Z.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"Available Tasks"}),(0,Z.jsx)(c.ZP,{container:!0,spacing:2,children:k.map((e=>(0,Z.jsx)(c.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,Z.jsxs)(s.Z,{sx:{p:2,borderRadius:"12px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",backgroundColor:"#F1F8E9"},children:[(0,Z.jsx)(l.Z,{variant:"subtitle1",gutterBottom:!0,children:e.name}),(0,Z.jsxs)(l.Z,{variant:"body2",color:"textSecondary",children:["Reward: Rs ",e.reward]}),(0,Z.jsx)(d.Z,{variant:"contained",color:"success",startIcon:(0,Z.jsx)(x.Z,{}),sx:{mt:2},fullWidth:!0,onClick:()=>(async e=>{const r=j;S(!0),w(!0);try{await new Promise((e=>setTimeout(e,2e3))),await i.Z.post(`http://localhost:8001/api/tasks/${e}/complete`,{username:r}),g((r=>r.filter((r=>r._id!==e)))),f((e=>({...e,completedTasks:e.completedTasks+1})))}catch(t){console.error("Error completing task:",t)}finally{S(!1),w(!1)}})(e._id),children:"Complete Task"})]})},e._id)))}),(0,Z.jsx)(p.Z,{open:y,onClose:()=>w(!1),children:(0,Z.jsx)(u.Z,{sx:{textAlign:"center",p:4},children:b?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(h.Z,{color:"success"}),(0,Z.jsx)(l.Z,{variant:"body1",mt:2,children:"Processing task... Please wait."})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{color:"success",sx:{fontSize:"4rem"}}),(0,Z.jsx)(l.Z,{variant:"h6",mt:2,children:"Task Completed Successfully&excl;"})]})})})]})}},4072:function(e,r,t){var a=t(4836);r.Z=void 0;var i=a(t(5649)),o=t(184),n=(0,i.default)((0,o.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"AccountBalanceWallet");r.Z=n},5560:function(e,r,t){var a=t(4836);r.Z=void 0;var i=a(t(5649)),o=t(184),n=(0,i.default)((0,o.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"AssignmentTurnedIn");r.Z=n},8384:function(e,r,t){var a=t(4836);r.Z=void 0;var i=a(t(5649)),o=t(184),n=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");r.Z=n},3239:function(e,r,t){t.d(r,{Z:function(){return W}});var a=t(3366),i=t(7462),o=t(2791),n=t(9278),s=t(4419),l=t(2554),c=t(4036),d=t(1402),p=t(6934),u=t(5878),h=t(1217);function m(e){return(0,h.Z)("MuiCircularProgress",e)}(0,u.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var x=t(184);const v=["className","color","disableShrink","size","style","thickness","value","variant"];let Z,f,k,g,b=e=>e;const S=44,y=(0,l.F4)(Z||(Z=b`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),w=(0,l.F4)(f||(f=b`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),j=(0,p.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,c.Z)(t.color)}`]]}})((e=>{let{ownerState:r,theme:t}=e;return(0,i.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.iv)(k||(k=b`
      animation: ${0} 1.4s linear infinite;
    `),y)})),C=(0,p.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),P=(0,p.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,c.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:t}=e;return(0,i.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.iv)(g||(g=b`
      animation: ${0} 1.4s ease-in-out infinite;
    `),w)}));var W=o.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:o,color:l="primary",disableShrink:p=!1,size:u=40,style:h,thickness:Z=3.6,value:f=0,variant:k="indeterminate"}=t,g=(0,a.Z)(t,v),b=(0,i.Z)({},t,{color:l,disableShrink:p,size:u,thickness:Z,value:f,variant:k}),y=(e=>{const{classes:r,variant:t,color:a,disableShrink:i}=e,o={root:["root",t,`color${(0,c.Z)(a)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(t)}`,i&&"circleDisableShrink"]};return(0,s.Z)(o,m,r)})(b),w={},W={},D={};if("determinate"===k){const e=2*Math.PI*((S-Z)/2);w.strokeDasharray=e.toFixed(3),D["aria-valuenow"]=Math.round(f),w.strokeDashoffset=`${((100-f)/100*e).toFixed(3)}px`,W.transform="rotate(-90deg)"}return(0,x.jsx)(j,(0,i.Z)({className:(0,n.Z)(y.root,o),style:(0,i.Z)({width:u,height:u},W,h),ownerState:b,ref:r,role:"progressbar"},D,g,{children:(0,x.jsx)(C,{className:y.svg,ownerState:b,viewBox:"22 22 44 44",children:(0,x.jsx)(P,{className:y.circle,style:w,ownerState:b,cx:S,cy:S,r:(S-Z)/2,fill:"none",strokeWidth:Z})})}))}))},9157:function(e,r,t){t.d(r,{Z:function(){return Z}});var a=t(3366),i=t(7462),o=t(2791),n=t(9278),s=t(4419),l=t(6934),c=t(1402),d=t(5878),p=t(1217);function u(e){return(0,p.Z)("MuiDialogContent",e)}(0,d.Z)("MuiDialogContent",["root","dividers"]);var h=t(7673),m=t(184);const x=["className","dividers"],v=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.dividers&&r.dividers]}})((e=>{let{theme:r,ownerState:t}=e;return(0,i.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(r.vars||r).palette.divider}`,borderBottom:`1px solid ${(r.vars||r).palette.divider}`}:{[`.${h.Z.root} + &`]:{paddingTop:0}})}));var Z=o.forwardRef((function(e,r){const t=(0,c.Z)({props:e,name:"MuiDialogContent"}),{className:o,dividers:l=!1}=t,d=(0,a.Z)(t,x),p=(0,i.Z)({},t,{dividers:l}),h=(e=>{const{classes:r,dividers:t}=e,a={root:["root",t&&"dividers"]};return(0,s.Z)(a,u,r)})(p);return(0,m.jsx)(v,(0,i.Z)({className:(0,n.Z)(h.root,o),ownerState:p,ref:r},d))}))},7673:function(e,r,t){t.d(r,{a:function(){return o}});var a=t(5878),i=t(1217);function o(e){return(0,i.Z)("MuiDialogTitle",e)}const n=(0,a.Z)("MuiDialogTitle",["root"]);r.Z=n},5289:function(e,r,t){t.d(r,{Z:function(){return W}});var a=t(3366),i=t(7462),o=t(2791),n=t(9278),s=t(4419),l=t(8252),c=t(4036),d=t(556),p=t(627),u=t(5527),h=t(1402),m=t(6934),x=t(5878),v=t(1217);function Z(e){return(0,v.Z)("MuiDialog",e)}var f=(0,x.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),k=t(5090),g=t(2739),b=t(3967),S=t(184);const y=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],w=(0,m.ZP)(g.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,r)=>r.backdrop})({zIndex:-1}),j=(0,m.ZP)(d.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,r)=>r.root})({"@media print":{position:"absolute !important"}}),C=(0,m.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.container,r[`scroll${(0,c.Z)(t.scroll)}`]]}})((e=>{let{ownerState:r}=e;return(0,i.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===r.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===r.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),P=(0,m.ZP)(u.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.paper,r[`scrollPaper${(0,c.Z)(t.scroll)}`],r[`paperWidth${(0,c.Z)(String(t.maxWidth))}`],t.fullWidth&&r.paperFullWidth,t.fullScreen&&r.paperFullScreen]}})((e=>{let{theme:r,ownerState:t}=e;return(0,i.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===r.breakpoints.unit?Math.max(r.breakpoints.values.xs,444):`max(${r.breakpoints.values.xs}${r.breakpoints.unit}, 444px)`,[`&.${f.paperScrollBody}`]:{[r.breakpoints.down(Math.max(r.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${r.breakpoints.values[t.maxWidth]}${r.breakpoints.unit}`,[`&.${f.paperScrollBody}`]:{[r.breakpoints.down(r.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${f.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})}));var W=o.forwardRef((function(e,r){const t=(0,h.Z)({props:e,name:"MuiDialog"}),d=(0,b.Z)(),m={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{"aria-describedby":x,"aria-labelledby":v,BackdropComponent:f,BackdropProps:g,children:W,className:D,disableEscapeKeyDown:M=!1,fullScreen:T=!1,fullWidth:$=!1,maxWidth:B="sm",onBackdropClick:R,onClose:F,open:z,PaperComponent:A=u.Z,PaperProps:N={},scroll:E="paper",TransitionComponent:L=p.Z,transitionDuration:I=m,TransitionProps:H}=t,_=(0,a.Z)(t,y),K=(0,i.Z)({},t,{disableEscapeKeyDown:M,fullScreen:T,fullWidth:$,maxWidth:B,scroll:E}),Y=(e=>{const{classes:r,scroll:t,maxWidth:a,fullWidth:i,fullScreen:o}=e,n={root:["root"],container:["container",`scroll${(0,c.Z)(t)}`],paper:["paper",`paperScroll${(0,c.Z)(t)}`,`paperWidth${(0,c.Z)(String(a))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,s.Z)(n,Z,r)})(K),O=o.useRef(),V=(0,l.Z)(v),X=o.useMemo((()=>({titleId:V})),[V]);return(0,S.jsx)(j,(0,i.Z)({className:(0,n.Z)(Y.root,D),closeAfterTransition:!0,components:{Backdrop:w},componentsProps:{backdrop:(0,i.Z)({transitionDuration:I,as:f},g)},disableEscapeKeyDown:M,onClose:F,open:z,ref:r,onClick:e=>{O.current&&(O.current=null,R&&R(e),F&&F(e,"backdropClick"))},ownerState:K},_,{children:(0,S.jsx)(L,(0,i.Z)({appear:!0,in:z,timeout:I,role:"presentation"},H,{children:(0,S.jsx)(C,{className:(0,n.Z)(Y.container),onMouseDown:e=>{O.current=e.target===e.currentTarget},ownerState:K,children:(0,S.jsx)(P,(0,i.Z)({as:A,elevation:24,role:"dialog","aria-describedby":x,"aria-labelledby":V},N,{className:(0,n.Z)(Y.paper,N.className),ownerState:K,children:(0,S.jsx)(k.Z.Provider,{value:X,children:W})}))})}))}))}))},5090:function(e,r,t){const a=t(2791).createContext({});r.Z=a}}]);
//# sourceMappingURL=655.f3cba271.chunk.js.map